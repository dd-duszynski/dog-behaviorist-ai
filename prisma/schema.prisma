// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Dog {
  activityLevel    String
  basicFood        String
  birthday         DateTime
  breed            String
  castrated        String
  castratedYear    String
  createdAt        DateTime @default(now())
  favoriteActivity String?
  favoritePlace    String
  favoriteSnack    String
  favoriteToy      String
  gender           String
  healthProblems   String
  id               String   @id @default(cuid())
  name             String
  origin           String
  originOther      String
  others           String
  photo            Bytes?
  relationToFood   String
  slug             String   @unique
  updatedAt        DateTime @updatedAt
  user             User     @relation(fields: [userId], references: [id])
  userId           String
  weight           String
}

model User {
  Conversation Conversation[]
  createdAt    DateTime       @default(now())
  dogs         Dog[]
  email        String         @unique
  id           String         @id @default(cuid())
  Message      Message[]
  name         String
  password     String
  role         Role           @default(USER)
  slug         String         @unique
  updatedAt    DateTime       @updatedAt
}

model Conversation {
  createdAt DateTime  @default(now())
  id        String    @id @default(cuid())
  messages  Message[]
  updatedAt DateTime  @updatedAt
  user      User      @relation(fields: [userId], references: [id])
  userId    String
}

model Message {
  content        String
  conversation   Conversation @relation(fields: [conversationId], references: [id])
  conversationId String
  createdAt      DateTime     @default(now())
  id             String       @id @default(cuid())
  updatedAt      DateTime     @updatedAt
  user           User         @relation(fields: [userId], references: [id])
  userId         String
}

enum Role {
  ADMIN
  USER
}
